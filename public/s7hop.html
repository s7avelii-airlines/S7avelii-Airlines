<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> S7avelii Shop </title>
  <script src="https://cdn.tailwindcss.com/4.0.0"></script>
</head>
<body class="bg-white text-gray-900 font-sans">

  <!-- Header -->
  <header class="border-b bg-white sticky top-0 z-20">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
      <div class="flex items-center space-x-2">
        <img src="" alt="Logo" class="h-8">
        <span class="text-xl font-semibold">avelii Shop</span>
      </div>
      <div class="flex items-center space-x-6">
        <a href="index.html" class="text-gray-700 hover:text-lime-600">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="#" class="text-gray-700 hover:text-lime-600">–ù–∞—à–∏ —Ç–æ–≤–∞—Ä—ã</a>
        <button id="cart-btn" class="relative">
          üõí
          <span id="cart-count" class="absolute -top-2 -right-2 bg-lime-500 text-white text-xs rounded-full px-1">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Breadcrumb -->
  <nav class="max-w-7xl mx-auto px-4 py-3 text-sm text-gray-500">
    –ì–ª–∞–≤–Ω–∞—è / –¢–æ–≤–∞—Ä—ã S7avelii Airlines
  </nav>

  <!-- Title -->
  <section class="max-w-7xl mx-auto px-4 py-4">
    <h1 class="text-3xl font-bold mb-6">–°—É–≤–µ–Ω–∏—Ä—ã</h1>

    <div class="flex flex-col lg:flex-row gap-8">

      <!-- Sidebar filters -->
      <aside class="lg:w-1/4 space-y-6">
        <div>
          <h3 class="font-semibold mb-2">–¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞</h3>
          <div class="flex space-x-2">
            <input type="number" placeholder="–æ—Ç 500" class="border rounded-lg w-1/2 p-2 text-sm">
            <input type="number" placeholder="–¥–æ 3700" class="border rounded-lg w-1/2 p-2 text-sm">
          </div>
        </div>

        <div>
          <h3 class="font-semibold mb-2">–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω –≤</h3>
          <label class="flex items-center space-x-2"><input type="checkbox"> <span>–†–æ—Å—Å–∏—è</span></label>
          <label class="flex items-center space-x-2"><input type="checkbox"> <span>–ö–∏—Ç–∞–π</span></label>
        </div>
      </aside>

      <!-- Products -->
      <main class="lg:w-3/4">
        <div class="flex justify-between items-center mb-4">
          <span class="text-gray-600 text-sm">5 —Ç–æ–≤–∞—Ä–æ–≤</span>
          <select class="border rounded-lg p-2 text-sm">
            <option>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ</option>
            <option>–°–Ω–∞—á–∞–ª–∞ –¥–µ—à–µ–≤—ã–µ</option>
            <option>–°–Ω–∞—á–∞–ª–∞ –¥–æ—Ä–æ–≥–∏–µ</option>
          </select>
        </div>

        <div id="products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
      </main>
    </div>
  </section>

  <script>
    // --- CART API (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é) ---
    const loadCart = () => JSON.parse(localStorage.getItem('cart') || '[]');
    const saveCart = cart => localStorage.setItem('cart', JSON.stringify(cart));
    const renderCart = () => {
      const cart = loadCart();
      document.querySelector('#cart-count').textContent = cart.reduce((a,c)=>a+c.qty,0);
      console.log('Cart:', cart);
    };

    const S7Cart = {
      addItem(item) {
        const cart = loadCart();
        const idx = cart.findIndex(i => String(i.id) === String(item.id));
        if (idx >= 0) cart[idx].qty = (Number(cart[idx].qty)||0) + (Number(item.qty)||1);
        else cart.push(Object.assign({ qty: 1 }, item));
        saveCart(cart);
        renderCart();
      },
      changeQty(index, delta) {
        const cart = loadCart();
        if (!cart[index]) return;
        cart[index].qty = Math.max(0, (Number(cart[index].qty)||0)+delta);
        if (cart[index].qty<=0) cart.splice(index,1);
        saveCart(cart);
        renderCart();
      },
      removeItem(index) {
        const cart = loadCart();
        cart.splice(index,1);
        saveCart(cart);
        renderCart();
      },
      clear() { saveCart([]); renderCart(); },
      getCart() { return loadCart(); }
    };

    // --- PRODUCTS ---
    const products = [
      { id: 1, title: '–†–µ–º—É–≤–∫–∞ ¬´100-–ª–µ—Ç–∏–µ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π –∞–≤–∏–∞—Ü–∏–∏¬ª', price: 750, image: 'img1.jpg' },
      { id: 2, title: '–†–µ–º—É–≤–∫–∞, –°–µ—Ä—ã–π', price: 650, image: 'img2.jpg' },
      { id: 3, title: '–ë—Ä–µ–ª–æ–∫ –∏–∑ –∞–≤–∏–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–∞–ª–ª–∞', price: 3700, image: 'img3.jpg' },
      { id: 4, title: '–ï–∂–µ–¥–Ω–µ–≤–Ω–∏–∫ –Ω–µ–¥–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ¬´–ó–∞–ø–∏—Å–∏¬ª', price: 1900, image: 'img4.jpg' },
    ];

    const renderProducts = () => {
      const grid = document.querySelector('#products');
      grid.innerHTML = products.map(p => `
        <div class="border rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition">
          <img src="${p.image}" alt="${p.title}" class="w-full h-48 object-cover">
          <div class="p-4 flex flex-col h-full justify-between">
            <div>
              <p class="text-lg font-semibold mb-1">${p.price} ‚ÇΩ</p>
              <p class="text-sm text-gray-700 mb-2">${p.title}</p>
            </div>
            <button 
              onclick='S7Cart.addItem(${JSON.stringify(p)})' 
              class="bg-lime-600 text-white rounded-xl py-2 mt-auto hover:bg-lime-700 transition">
              –í –∫–æ—Ä–∑–∏–Ω—É
            </button>
          </div>
        </div>
      `).join('');
    };

    renderProducts();
    renderCart();
  </script>

</body>
</html>
