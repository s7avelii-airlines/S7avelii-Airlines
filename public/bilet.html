<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Россия — маршруты</title>
<style>
body, html {margin:0;padding:0;height:100%;width:100%;background:#0f1720;font-family:Arial, sans-serif;}
.map-screen {position:relative;width:100%;height:100vh;overflow:hidden;}
svg {position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;}

/* контур карты */
.russia-path {fill:none;stroke:#aaa;stroke-width:1.5;opacity:0.8;}

/* дуги маршрутов */
.route {fill:none;stroke-width:2;stroke-linecap:round;filter:drop-shadow(0 0 6px rgba(255,255,255,0.3));}
.route.green {stroke:#baff00;}
.route.blue {stroke:#77b7ff;}

/* самолётики */
.plane {fill:white;stroke:none;stroke-width:0;filter:drop-shadow(0 0 6px rgba(255,255,255,0.9));width:8px;height:8px;border-radius:50%;position:absolute;transform:translate(-50%,-50%);z-index:5;}
.plane.green {background:#baff00;box-shadow:0 0 8px rgba(186,255,0,0.9);}
.plane.blue  {background:#77b7ff;box-shadow:0 0 8px rgba(119,183,255,0.9);}

/* точки городов */
.city {position:absolute;width:10px;height:10px;border-radius:50%;transform:translate(-50%,-50%);z-index:4;box-shadow:0 0 6px rgba(0,0,0,0.5);}
.city.moscow {background:#baff00;}
.city.nsk    {background:#77b7ff;}
.city.other  {background:#fff;opacity:0.8;width:7px;height:7px;}

/* блок 100+ направлений */
.counter-box {
  position:absolute;right:40px;bottom:40px;z-index:10;width:220px;height:130px;
  background:linear-gradient(135deg,#c4ff00,#b0f014);
  border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;
  box-shadow:0 8px 40px rgba(0,0,0,0.35);color:#111;
}
#counter{font-size:52px;font-weight:800;}
.counter-sub{font-size:16px;margin-top:6px;opacity:0.85;}
</style>
</head>
<body>

<div class="map-screen">
  <svg id="map-svg" viewBox="0 0 1600 1200" preserveAspectRatio="xMidYMid meet">
    <!-- контур России (упрощённая минималистичная карта) -->
    <path class="russia-path" d="M50,400 L80,380 L120,370 L180,360 L220,340 L300,320 L400,300 L500,280 L600,260 L700,240 L800,230 L900,220 L1000,230 L1100,240 L1200,260 L1300,280 L1400,300 L1450,320 L1500,350 L1550,400 L1500,450 L1450,500 L1400,550 L1350,580 L1300,600 L1250,620 L1200,640 L1150,650 L1100,660 L1050,670 L1000,680 L950,690 L900,700 L850,710 L800,720 L750,730 L700,740 L650,750 L600,760 L550,770 L500,780 L450,790 L400,800 L350,810 L300,820 L250,830 L200,840 L150,850 L100,860 Z"></path>
  </svg>

  <div id="overlay" style="position:absolute;inset:0;pointer-events:none;"></div>

  <div class="counter-box">
    <div id="counter">100+</div>
    <div class="counter-sub">направлений</div>
  </div>
</div>

<script>
// реальные города (Москва, Новосибирск + 18 остальных для примера)
const cities = [
  {name:'Moscow',x:590,y:390,type:'moscow'},
  {name:'Novosibirsk',x:1050,y:480,type:'nsk'},
  {name:'Saint Petersburg',x:530,y:300,type:'other'},
  {name:'Yekaterinburg',x:800,y:420,type:'other'},
  {name:'Omsk',x:950,y:460,type:'other'},
  {name:'Kazan',x:650,y:380,type:'other'},
  {name:'Chelyabinsk',x:830,y:440,type:'other'},
  {name:'Samara',x:700,y:400,type:'other'},
  {name:'Rostov-on-Don',x:600,y:500,type:'other'},
  {name:'Ufa',x:750,y:420,type:'other'},
  {name:'Volgograd',x:620,y:520,type:'other'},
  {name:'Krasnoyarsk',x:1100,y:460,type:'other'},
  {name:'Perm',x:720,y:390,type:'other'},
  {name:'Voronezh',x:650,y:480,type:'other'},
  {name:'Saratov',x:670,y:500,type:'other'},
  {name:'Tyumen',x:820,y:430,type:'other'},
  {name:'Irkutsk',x:1200,y:480,type:'other'},
  {name:'Khabarovsk',x:1450,y:400,type:'other'},
  {name:'Vladivostok',x:1500,y:420,type:'other'},
  {name:'Murmansk',x:520,y:250,type:'other'}
];

// добавляем точки на карту
const overlay = document.getElementById('overlay');
cities.forEach(c=>{
  const div = document.createElement('div');
  div.className = 'city '+c.type;
  div.style.left = c.x + 'px';
  div.style.top  = c.y + 'px';
  div.title = c.name;
  overlay.appendChild(div);
  c.el = div;
});

// строим маршруты (10 от Москвы, 10 от Новосибирска)
const routes = [];
cities.forEach((c,i)=>{
  if(i===0 || i===1) return; // skip Moscow/Novosib
  routes.push({from:cities[0],to:c, color:'green'});
  routes.push({from:cities[1],to:c, color:'blue'});
});

// создаём самолётики
const planes = [];
routes.slice(0,20).forEach(r=>{
  const div = document.createElement('div');
  div.className = 'plane '+r.color;
  overlay.appendChild(div);
  planes.push({el:div,route:r,offset:Math.random(),speed:0.002+Math.random()*0.003});
});

// функция дуги (квадратичная кривая)
function getCurvePoints(from,to,steps=100){
  const points = [];
  const cx = (from.x+to.x)/2;
  const cy = Math.min(from.y,to.y)-Math.abs(from.x-to.x)*0.4;
  for(let i=0;i<=steps;i++){
    const t = i/steps;
    const x = (1-t)*(1-t)*from.x + 2*(1-t)*t*cx + t*t*to.x;
    const y = (1-t)*(1-t)*from.y + 2*(1-t)*t*cy + t*t*to.y;
    points.push({x,y});
  }
  return points;
}

// подготовка маршрутов для анимации
routes.forEach(r=>{
  r.points = getCurvePoints(r.from,r.to,120);
});

// анимация самолётов
function animatePlanes(){
  planes.forEach(p=>{
    const pts = p.route.points;
    let idx = Math.floor(p.offset*pts.length);
    p.el.style.left = pts[idx].x+'px';
    p.el.style.top  = pts[idx].y+'px';
    // обновляем offset
    p.offset += p.speed;
    if(p.offset>1) p.offset=0;
  });
  requestAnimationFrame(animatePlanes);
}
animatePlanes();

// счётчик 100+
let n=100;
setInterval(()=>{
  n++; if(n>140)n=100;
  document.getElementById('counter').innerText = n+'+';
},120);
</script>

</body>
</html>

