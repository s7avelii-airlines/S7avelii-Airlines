<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Маршруты России</title>
<style>
body,html{
  margin:0;
  padding:0;
  height:100%;
  width:100%;
  background:#f4f5f7; /* светлый фон */
  font-family:Arial, sans-serif;
  overflow:hidden;
}

/* Контейнер */
.map-screen{
  position:relative;
  width:100%;
  height:100vh;
  overflow:hidden;
}

/* Карта */
.russia-path{
  fill:#e6e8ea;      /* светлая заливка */
  stroke:#b5b7ba;    /* контур */
  stroke-width:1.5;
}

/* Маршруты */
.route{
  fill:none;
  stroke-width:2;
  stroke-linecap:round;
  opacity:0.85;
}
.route.green{ stroke:#baff00; }
.route.blue{  stroke:#77b7ff; }

/* Город */
.city{
  position:absolute;
  width:9px;height:9px;
  border-radius:50%;
  background:#333;
  transform:translate(-50%,-50%);
  z-index:5;
}
.city.moscow{ background:#77b7ff; }
.city.saratov{ background:#baff00; }
.city.other{ background:#555; opacity:0.8; }

/* Самолётик */
.plane{
  position:absolute;
  width:8px;height:8px;
  border-radius:50%;
  transform:translate(-50%,-50%);
  z-index:10;
}
.plane.green{ background:#baff00; }
.plane.blue{  background:#77b7ff; }

/* Счётчик */
.counter-box{
  position:absolute;
  right:40px;
  bottom:40px;
  width:220px;
  height:130px;
  background:#c4ff00;
  border-radius:20px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  font-weight:800;
  box-shadow:0 10px 35px rgba(0,0,0,0.25);
}
#counter{
  font-size:54px;
  color:#111;
}
.counter-sub{
  font-size:16px;
  color:#222;
  opacity:0.8;
}
</style>
</head>
<body>

<div class="map-screen">

<!-- КАРТА РОССИИ -->
<svg id="map-svg" viewBox="0 0 2200 1200" preserveAspectRatio="xMidYMid meet">
  <path class="russia-path" d="
  M2025 270l-47 -39l-95 -18l-40 -37l-57 8l-40 -32
  l4 -35l-60 -43l-54 -6l-101 28l-73 -10l-23 -25l-65 3
  l-35 28l12 45l-68 17l-80 -12l-46 28l-97 -5l-240 78
  l-122 20l-60 -12l-102 17l-93 -5l-68 25l-42 38l-88 30
  l-40 44l-115 33l-38 36l-5 42l-90 40l20 45l-10 55l40 35
  l45 -15l38 40l12 80l70 55l85 10l50 -35l40 5l22 60l80 20
  l45 -25l85 15l30 -30l38 5l55 50l120 10l40 -22l85 17l25 -25
  l60 15l25 40l90 15l60 -35l80 10l40 -30l70 5l45 40l75 -5
  l20 -45l60 -18l25 -32l75 10l45 -35l10 -55l60 -30l45 -40
  l-10 -60l45 -40l-40 -50z"/>
</svg>

<div id="overlay" style="position:absolute;inset:0;"></div>

<!-- Счётчик -->
<div class="counter-box">
  <div id="counter">100+</div>
  <div class="counter-sub">направлений</div>
</div>

</div>

<script>
/* Города */
const cities = [
  {name:'Moscow',x:590,y:390,type:'moscow'},
  {name:'Saratov',x:670,y:500,type:'saratov'},
  {name:'Saint Petersburg',x:530,y:300,type:'other'},
  {name:'Novosibirsk',x:1050,y:480,type:'other'},
  {name:'Yekaterinburg',x:800,y:420,type:'other'},
  {name:'Omsk',x:950,y:460,type:'other'},
  {name:'Kazan',x:650,y:380,type:'other'},
  {name:'Chelyabinsk',x:830,y:440,type:'other'},
  {name:'Samara',x:700,y:400,type:'other'},
  {name:'Rostov-on-Don',x:600,y:500,type:'other'},
  {name:'Volgograd',x:620,y:520,type:'other'},
];

/* Рендер точек */
const overlay=document.getElementById("overlay");
cities.forEach(c=>{
  const div=document.createElement("div");
  div.className="city "+c.type;
  div.style.left=c.x+"px";
  div.style.top=c.y+"px";
  overlay.appendChild(div);
  c.el=div;
});

/* Маршруты */
const routes=[];
const fromMoscow=cities[0];
const fromSaratov=cities[1];

cities.slice(2,8).forEach(c=>routes.push({from:fromMoscow,to:c,color:'blue'}));
cities.slice(4,10).forEach(c=>routes.push({from:fromSaratov,to:c,color:'green'}));

/* Создание самолётиков */
const planes=[];
routes.forEach(r=>{
  const div=document.createElement("div");
  div.className="plane "+r.color;
  overlay.appendChild(div);
  planes.push({
    el:div,
    route:r,
    offset:Math.random(),
    speed:0.001+Math.random()*0.0015
  });
});

/* Кривая Безье */
function getCurvePoints(from,to,steps=120){
  let pts=[];
  let cx=(from.x+to.x)/2;
  let cy=Math.min(from.y,to.y)-Math.abs(from.x-to.x)*0.32;

  for(let i=0;i<=steps;i++){
    let t=i/steps;
    let x=(1-t)**2*from.x + 2*(1-t)*t*cx + t**2*to.x;
    let y=(1-t)**2*from.y + 2*(1-t)*t*cy + t**2*to.y;
    pts.push({x,y});
  }
  return pts;
}

/* Отрисовка линий */
const svg=document.getElementById("map-svg");
routes.forEach(r=>{
  r.points=getCurvePoints(r.from,r.to);

  const path=document.createElementNS("http://www.w3.org/2000/svg","path");
  path.setAttribute("d", r.points.map((p,i)=>`${i?'L':'M'}${p.x},${p.y}`).join(" "));
  path.setAttribute("class","route " + r.color);
  svg.appendChild(path);
});

/* Анимация */
function animate(){
  planes.forEach(p=>{
    const pts=p.route.points;
    let idx=Math.floor(p.offset*(pts.length-1));
    p.el.style.left=pts[idx].x+"px";
    p.el.style.top =pts[idx].y+"px";
    p.offset+=p.speed;
    if(p.offset>1)p.offset=0;
  });
  requestAnimationFrame(animate);
}
animate();

/* Счётчик */
let n=100;
setInterval(()=>{
  n++; if(n>138)n=100;
  document.getElementById("counter").textContent=n+"+";
},120);
</script>

</body>
</html>

