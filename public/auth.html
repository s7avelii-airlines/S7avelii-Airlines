<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Вход / Регистрация — S7avelii</title>
  <style>
    :root {
      --green:#9cc42f;
      --green-dark:#8ab12a;
      --bg:#f5f7fa;
      --card:#fff;
      --muted:#666;
    }

    * { box-sizing:border-box; }

    body {
      margin:0;
      font-family: Inter, Arial, sans-serif;
      min-height:100vh;
      background: url("images/Blue Modern Business Proposal Presentation.avif") no-repeat center center fixed;
      background-size: cover;
    }

    /* ===== HEADER ===== */
    header {
      display:flex;
      align-items:center;
      padding:0 20px;
      height:70px;
      border-bottom:1px solid #ccc;
      position:fixed;
      top:0; left:0;
      width:100%;
      z-index:1000;
      background:#fff;
    }

    .logo-img {
      height:50px;
      width:auto;
    }

    nav { flex-grow:1; }
    nav ul {
      display:flex;
      gap:20px;
      list-style:none;
      margin:0; padding:0;
    }
    nav li { position:relative; }
    nav a {
      text-decoration:none;
      color:#000;
      font-size:15px;
      padding:25px 0;
    }
    nav a::after {
      content:"";
      position:absolute;
      bottom:0; left:0;
      width:0; height:2px;
      background:var(--green);
      transition:.3s;
    }
    nav li:hover > a::after { width:100%; }

    .dropdown {
      position:absolute;
      top:100%; left:0;
      background:#fff;
      padding:12px;
      border-top:2px solid var(--green);
      box-shadow:0 6px 16px rgba(0,0,0,.15);
      min-width:180px;
      opacity:0; transform:translateY(-10px);
      pointer-events:none;
      transition:.3s;
    }
    nav li:hover .dropdown {
      opacity:1; transform:translateY(0);
      pointer-events:auto;
    }
    .dropdown a { display:block; padding:6px 0; font-size:14px; }

    .right-menu {
      display:flex; align-items:center; gap:12px;
    }
    .right-menu a {
      padding:6px 10px;
      border:1px solid var(--green);
      border-radius:6px;
      color:var(--green);
      text-decoration:none;
      font-size:14px;
    }

    /* ===== MAIN ===== */
    main {
      display:flex;
      align-items:center;
      justify-content:center;
      padding:90px 20px 40px; /* отступ под шапку */
      min-height:100vh;
    }

    .card {
  width: 100%;
  max-width: 360px;
  background: rgba(255,255,255,0.92);
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(16,24,40,0.25);
  padding: 22px;
}

/* Чтобы форма помещалась на очень маленьких экранах */
@media(max-width: 480px) {
  main {
    padding: 80px 10px 20px; /* меньше отступы сверху и по бокам */
  }
  .card {
    padding: 16px;
  }
  input {
    font-size: 13px;
    padding: 8px 10px;
  }
  .btn {
    padding: 10px;
    font-size: 14px;
  }
}

    h2 {margin:0 0 14px;font-size:20px;}
    input {
      width:100%; padding:10px 12px;
      border-radius:8px; border:1px solid #d6d8db;
      margin-top:10px; font-size:14px;
    }
    .btn {
      width:100%; padding:12px;
      border-radius:8px; border:0;
      background:var(--green); color:#fff;
      font-weight:600; cursor:pointer;
      margin-top:14px;
    }
    .btn:hover { background:var(--green-dark); }

    .error { color:#d23f44; margin-top:10px; font-size:13px; }
    .success { color:green; margin-top:10px; font-size:13px; }
    .switch { margin-top:14px; text-align:center; font-size:14px; cursor:pointer; }
    .hidden { display:none; }

    /* ===== MOBILE ===== */
    @media(max-width:768px){
      nav ul { flex-direction:column; gap:10px; }
      header { flex-wrap:wrap; height:auto; padding:10px; }
      .card { width:100%; }
    }
  </style>
</head>
<body>

<header>
  <a href="index.html"><img src="images/1757683264306.avif" class="logo-img" alt="S7avelii" /></a>
  <nav>
    <ul>
      <li>
        <a href="index.html">Покупка</a>
        <div class="dropdown">
          <a href="bilet.html">Купить билет</a>
          <a href="auth.html">Управление бронированием</a>
        </div>
      </li>
  </nav>
</header>

<main>
  <div class="card" id="card">
    <h2 id="title">Вход</h2>

    <!-- Форма входа -->
    <form id="loginForm">
      <input id="loginFio" type="text" placeholder="ФИО" required autocomplete="name">
      <input id="loginPhone" type="tel" placeholder="Телефон" required autocomplete="tel">
      <button class="btn" type="submit">Войти</button>
      <div id="loginError" class="error"></div>
    </form>

    <!-- Форма регистрации -->
    <form id="registerForm" class="hidden">
      <input id="regFio" type="text" placeholder="ФИО" required>
      <input id="regEmail" type="email" placeholder="Email">
      <input id="regPhone" type="tel" placeholder="Телефон" required>
      <button class="btn" type="submit">Зарегистрироваться</button>
      <div id="regError" class="error"></div>
      <div id="regSuccess" class="success"></div>
    </form>

    <div class="switch">
      Нет аккаунта? <span id="switchLink" style="color:var(--green);text-decoration:underline;">Зарегистрироваться</span>
    </div>
  </div>
</main>

<script>
  const loginForm=document.getElementById('loginForm');
  const registerForm=document.getElementById('registerForm');
  const switchLink=document.getElementById('switchLink');
  const title=document.getElementById('title');
  const loginError=document.getElementById('loginError');
  const regError=document.getElementById('regError');
  const regSuccess=document.getElementById('regSuccess');

  // Авто-редирект
  window.addEventListener('DOMContentLoaded',()=>{
    if(localStorage.getItem('fio')&&localStorage.getItem('phone')){
      window.location.href='cabinet.html';
    }
  });

  // Переключение
  switchLink.addEventListener('click',()=>{
    const showingLogin=!loginForm.classList.contains('hidden');
    if(showingLogin){
      loginForm.classList.add('hidden');
      registerForm.classList.remove('hidden');
      title.innerText='Регистрация';
      switchLink.innerText='Войти';
      loginError.innerText=''; regError.innerText=''; regSuccess.innerText='';
    } else {
      registerForm.classList.add('hidden');
      loginForm.classList.remove('hidden');
      title.innerText='Вход';
      switchLink.innerText='Зарегистрироваться';
      loginError.innerText=''; regError.innerText=''; regSuccess.innerText='';
    }
  });

  // Логин
  loginForm.addEventListener('submit',(e)=>{
    e.preventDefault();
    loginError.innerText='';
    const fio=document.getElementById('loginFio').value.trim();
    const phone=document.getElementById('loginPhone').value.trim();
    if(!fio||!phone){ loginError.innerText='Заполните все поля.'; return; }
    if(localStorage.getItem('fio')===fio && localStorage.getItem('phone')===phone){
      window.location.href='cabinet.html';
    } else {
      loginError.innerText='Неверные данные или аккаунт не найден.';
    }
  });

  // Регистрация
  registerForm.addEventListener('submit',(e)=>{
    e.preventDefault();
    regError.innerText=''; regSuccess.innerText='';
    const fio=document.getElementById('regFio').value.trim();
    const phone=document.getElementById('regPhone').value.trim();
    if(!fio||!phone){ regError.innerText='Поля ФИО и телефон обязательны.'; return; }
    localStorage.setItem('fio',fio);
    localStorage.setItem('phone',phone);
    regSuccess.innerText='Регистрация успешна! Перенаправляем...';
    setTimeout(()=>{ window.location.href='cabinet.html'; },700);
  });
</script>
</body>
</html>
