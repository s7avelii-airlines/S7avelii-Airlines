<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>Регистрация</title>
<style>
/* минимальные стили (в твоём стиле можно настроить) */
body{font-family:Arial;background:#f5f7fa;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
.box{background:#fff;padding:24px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.08);width:340px}
input,button{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ccc}
button{background:#9cc42f;color:#fff;border:none;cursor:pointer}
</style>
</head>
<body>
<div class="box">
  <h3>Регистрация</h3>
  <input id="fio" placeholder="ФИО" />
  <input id="phone" placeholder="Телефон" />
  <input id="email" placeholder="Email" />
  <input id="card" placeholder="Номер карты S7avelii Priority" />
  <input id="dob" placeholder="Дата рождения (например 01.01.1990)" />
  <input id="gender" placeholder="Пол" />
  <button id="btn">Зарегистрироваться</button>
  <p id="info" style="color:red"></p>
  <p style="margin-top:10px"><a href="/login.html">Уже есть аккаунт? Войти</a></p>
</div>

<script>
document.getElementById("btn").addEventListener("click", async () => {
  const payload = {
    fio: document.getElementById("fio").value.trim(),
    phone: document.getElementById("phone").value.trim(),
    email: document.getElementById("email").value.trim(),
    cardNumber: document.getElementById("card").value.trim(),
    dob: document.getElementById("dob").value.trim(),
    gender: document.getElementById("gender").value.trim()
  };

  const res = await fetch("/api/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    credentials: "include",
    body: JSON.stringify(payload)
  });

  const json = await res.json();
  if (!res.ok) {
    document.getElementById("info").innerText = json.error || "Ошибка";
    return;
  }

  // успешно зарегистрированы — переходим в кабинет
  window.location.href = "/cabinet.html";
});
</script>
<!-- Footer -->
<footer class="footer">
  <div class="footer-container">
    <div class="footer-left">
      © 2025. S7avelii Airlines — Все права защищены
    </div>
    <div class="footer-right">
      <a href="https://vk.com/savelii577" target="_blank"><img src="images/icons8-vk-logo-30.avif" alt="VK"></a>
      <a href="https://www.tiktok.com/@s7avelii?_t=ZT-8yviZwu6jAT&_r=1" target="_blank"><img src="images/icons8-tiktok-logo-50 (1).avif" alt="Tik Tok"></a>
      <a href="www.youtube.com/@S7avelii_Airlines" target="_blank"><img src="images/icons8-youtube-logo-50.avif" alt="YouTube"></a>
      <a href="https://t.me/S7saveliiairlines" target="_blank"><img src="images/icons8-telegram-logo-50 (1).avif" alt="Telegram"></a>
    </div>
  </div>
</footer>

<style>
  .footer {
    background-color: #f1f4f9; /* как на скрине */
    padding: 20px 40px;
    position: relative;
    bottom: 0;
    width: 100%;
  }

  .footer-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
  }

  .footer-left {
    font-size: 14px;
    color: #667;
  }

  .footer-right a {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    margin-left: 10px;
    border-radius: 50%;
    background: white;
    transition: transform 0.2s;
  }

  .footer-right a:hover {
    transform: scale(1.1);
  }

  .footer-right img {
    width: 20px;
    height: 20px;
  }
</style>
</body>
</html>
